{"ast":null,"code":"var _jsxFileName = \"/Users/ssera/Desktop/ssera/frontend/src/components/mypage/MyInfo.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styles from '../../scss/mypage/MyInfo.module.scss';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyInfo = () => {\n  _s();\n  const navigate = useNavigate();\n  const [userInfo, setUserInfo] = useState(null); // 사용자 정보\n\n  useEffect(() => {\n    const sessionToken = sessionStorage.getItem('sessionToken');\n    if (!sessionToken) {\n      navigate('/signIn'); // 세션 토큰 없으면 로그인 페이지로 이동\n    } else {\n      // Axios로 사용자 정보 가져오기\n      axios.post('http://localhost:5001/myPage',\n      //index.js의 라우트경로랑 일치시킴\n      {\n        email: sessionStorage.getItem('email')\n      },\n      // 요청 본문\n      {\n        headers: {\n          Authorization: sessionToken // 세션 토큰 포함\n        }\n      }).then(response => {\n        setUserInfo(response.data); // 세션토큰 콘솔에서 확인\n        console.log('세션 토큰 :', sessionStorage.getItem('sessionToken'));\n        console.log('이메일 :', sessionStorage.getItem('email'));\n      }).catch(error => {\n        console.error('세션 토큰 확인불가', error);\n        navigate('/signIn'); // 실패 시 로그인 페이지로 이동\n      });\n    }\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.sectionContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.sectionBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.sectionHeader,\n          children: [\"\\uB098\\uC758 \\uC815\\uBCF4\", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/member-information-input\",\n              className: styles.a1,\n              children: \"\\uC815\\uBCF4 \\uBCF4\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoBlock,\n          children: userInfo ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\uC774\\uB984: \", userInfo.customer_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C: \", userInfo.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\uB274\\uC2A4\\uB808\\uD130: \", userInfo.optional_agree === 1 ? '동의' : '동의 안함']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"MMS: \", userInfo.optional_agree === 1 ? '동의' : '동의 안함']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"DM: \", userInfo.optional_agree === 1 ? '동의' : '동의 안함']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uC0AC\\uC6A9\\uC790 \\uC815\\uBCF4 \\uC5C6\\uC74C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.sectionBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.sectionHeader,\n          children: [\"\\uC8FC\\uBB38 \\uB0B4\\uC5ED\", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/ViewOrders\",\n              className: styles.a1,\n              children: \"\\uC8FC\\uBB38 \\uB0B4\\uC5ED \\uBCF4\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoBlock,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uACE0\\uAC1D\\uB2D8\\uC758 \\uC8FC\\uBB38\\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/shop\",\n              className: styles.a1,\n              children: \"\\uC1FC\\uD551\\uD558\\uB7EC\\uAC00\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(MyInfo, \"gmks4z46qiQBOYmXxyOG4T5K5QE=\", false, function () {\n  return [useNavigate];\n});\n_c = MyInfo;\nexport default MyInfo;\nvar _c;\n$RefreshReg$(_c, \"MyInfo\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","styles","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","MyInfo","_s","navigate","userInfo","setUserInfo","sessionToken","sessionStorage","getItem","post","email","headers","Authorization","then","response","data","console","log","catch","error","children","className","sectionContainer","sectionBox","sectionHeader","to","a1","fileName","_jsxFileName","lineNumber","columnNumber","infoBlock","customer_name","optional_agree","_c","$RefreshReg$"],"sources":["/Users/ssera/Desktop/ssera/frontend/src/components/mypage/MyInfo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styles from '../../scss/mypage/MyInfo.module.scss';\nimport axios from 'axios';\n\nconst MyInfo = () => {\n    const navigate = useNavigate();\n    const [userInfo, setUserInfo] = useState(null); // 사용자 정보\n\n    useEffect(() => {\n        const sessionToken = sessionStorage.getItem('sessionToken');\n\n        if (!sessionToken) {\n            navigate('/signIn'); // 세션 토큰 없으면 로그인 페이지로 이동\n        } else {\n            // Axios로 사용자 정보 가져오기\n            axios\n                .post(\n                    'http://localhost:5001/myPage', //index.js의 라우트경로랑 일치시킴\n                    { email: sessionStorage.getItem('email') }, // 요청 본문\n                    {\n                        headers: {\n                            Authorization: sessionToken, // 세션 토큰 포함\n                        },\n                    }\n                )\n                .then(response => {\n                    setUserInfo(response.data); // 세션토큰 콘솔에서 확인\n                    console.log('세션 토큰 :', sessionStorage.getItem('sessionToken'));\n                    console.log('이메일 :', sessionStorage.getItem('email'));\n                })\n                .catch(error => {\n                    console.error('세션 토큰 확인불가', error);\n                    navigate('/signIn'); // 실패 시 로그인 페이지로 이동\n                });\n        }\n    }, [navigate]);\n\n    return (\n        <main>\n            <div className={styles.sectionContainer}>\n                <div className={styles.sectionBox}>\n                    {/* 섹션 1: 나의 정보 */}\n                    <div className={styles.sectionHeader}>\n                        나의 정보\n                        <div>\n                            <Link to=\"/member-information-input\" className={styles.a1}>\n                                정보 보기\n                            </Link>\n                        </div>\n                    </div>\n                    <div className={styles.infoBlock}>\n                        {/* 불러온 사용자 정보가 있으면 */}\n                        {userInfo ? (\n                            <>\n                                <p>이름: {userInfo.customer_name}</p>\n                                <p>이메일 주소: {userInfo.email}</p>\n                                <p>뉴스레터: {userInfo.optional_agree === 1 ? '동의' : '동의 안함'}</p>\n                                <p>MMS: {userInfo.optional_agree === 1 ? '동의' : '동의 안함'}</p>\n                                <p>DM: {userInfo.optional_agree === 1 ? '동의' : '동의 안함'}</p>\n                            </>\n                        ) : (\n                            <p>사용자 정보 없음</p>\n                        )}\n                    </div>\n                </div>\n                <div className={styles.sectionBox}>\n                    {/* 섹션 2: 주문 내역 */}\n                    <div className={styles.sectionHeader}>\n                        주문 내역\n                        <div>\n                            <Link to=\"/ViewOrders\" className={styles.a1}>\n                                주문 내역 보기\n                            </Link>\n                        </div>\n                    </div>\n                    <div className={styles.infoBlock}>\n                        <p>\n                            고객님의 주문내역이 없습니다.\n                            <Link to=\"/shop\" className={styles.a1}>\n                                쇼핑하러가기\n                            </Link>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </main>\n    );\n};\n\nexport default MyInfo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}